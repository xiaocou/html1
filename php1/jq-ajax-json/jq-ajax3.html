<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="jquery-3.2.0.js"></script>
		<style>
			div{
				width: 100%;
				height: 30px;
			}
		</style>
	</head>
	<body>
		<input type="text" id="chatdata" />
		<input type="button" id="btn" value="发送" />
		<div></div>
		<script>
//			点击发送按钮
			var chatlist = "";
			$("#btn").click(function(){
				var chatdata = {"value":$("#chatdata").val()};
				$.ajax({
	    			url: '05.php',
	    			type: 'POST',
	    			dataType: 'json',
	    			data: chatdata,
					async:true,//是否异步，默认：是（true），不是（false）
	    			success:function(data,textStatus){
	    				console.log(textStatus);
	    				chatlist += "<p>"+data.chat+"</p>";
	    				$("div").html(chatlist);
	    			}
//	    			errorThrow抛出异常信息
//	    			error:function(XMLHttpRequest,textStatus,errorThrow){
//	    				console.log(textStatus);//返回error,timeout,notmodified
//	    				
//	    			}
	    		})
				console.log(chatdata);
			})
		</script>
	</body>
</html>
